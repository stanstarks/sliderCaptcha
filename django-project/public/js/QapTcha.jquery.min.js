jQuery.QapTcha={build:function(e){_request=function(e,t){var r=window.XMLHttpRequest,n=new r;n.open("GET",e,!0),n.onreadystatechange=function(){var e;4===n.readyState&&200===n.status&&(e=JSON.parse(n.responseText),t(e))},n.send()};var t={txtLock:"Locked : form can't be submited",txtUnlock:"Unlocked : form can be submited",disabledSubmit:!0,autoRevert:!0,verifyUrl:"/scroll",startUrl:"/startslider",imageUrl:"/getslider",autoSubmit:!1,request:_request};return _refresh=function(e){e.request(e.startUrl,function(t){e.sliderPosition=t.sliderPosition})},_sample=function(e,t){var r=e.length;if(t>=r)return e;for(var n=[],i=0,a=0;r>a;a++)a*t/r>=i&&(n.push(e[a]),i+=1);return n},this.length>0?jQuery(this).each(function(r){function n(e){var t="azertyupqsdfghjkmwxcvbn23456789AZERTYUPQSDFGHJKMWXCVBN_-#@",n="";for(r=0;e>r;r++){var i=Math.round(Math.random()*t.length);n+=t.substring(i,i+1)}return n}var i,a=$.extend(t,e),s=$(this),o=$("form").has(s),u=jQuery("<p>",{"class":"visualCaptcha-explanation",text:"slide to verify"}),d=jQuery("<div>",{"class":"clr"}),l=jQuery("<div>",{"class":"bgSlider"}),c=jQuery("<div>",{"class":"Slider"}),f=jQuery("<div>",{"class":" TxtStatus dropError",text:a.txtLock}),p=jQuery("<input>",{name:n(32),value:n(7),type:"hidden"}),g=[],v=[];a.disabledSubmit&&o.find("input[type='submit']").attr("disabled","disabled"),_refresh(a);var m=jQuery("<div>",{"class":"ImageSlider"}),h=jQuery("<div>",{"class":"fgSlider"}),y=jQuery("<img>",{src:a.imageUrl}),b=jQuery("<img>",{src:a.imageUrl+"/foreground"});u.appendTo(s),m.insertAfter(u),l.insertAfter(m),d.insertAfter(l),f.insertAfter(d),p.appendTo(s),c.appendTo(l),y.appendTo(m),h.insertAfter(y),b.appendTo(h),s.show(),Date.now||(Date.now=function(){return(new Date).getTime()}),s.mouseenter(function(){s.mousemove(function(e){v.push([e.pageX,e.pageY,Date.now()-i])}),i=Date.now()}),c.draggable({start:function(){s.off("mousemove")},drag:function(e,t){g.push([e.pageX,e.pageY,Date.now()-i]),h.css({left:6+t.position.left})},revert:function(){return a.autoRevert?!0:void 0},containment:l,axis:"x",stop:function(e,t){var r={dragging:g,moving:v};$.post(a.verifyUrl,{interactions:JSON.stringify(r),position:100*(t.position.left-44)/350},function(e){window.location.replace("?status="+e.message)},"json"),h.css({left:0})}})}):void 0}},jQuery.fn.QapTcha=jQuery.QapTcha.build;